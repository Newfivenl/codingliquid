{%- style -%}

  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }
  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

{%- endstyle -%}

{%- liquid 
            
assign fetch_priority = 'auto'
if section.index == 1
    assign fetch_priority = 'high'
endif

assign image_blocks = section.blocks | where: 'type', 'image'
assign widths = '375, 550, 750, 1100, 1500, 1780, 2048, 3000, 3840'
assign image_class = 'tw-w-full tw-h-auto tw-object-cover'

-%}

<section class="section-{{ section.id }}-padding gradient color-{{ section.settings.section_color_scheme }}">

  {% for block in section.blocks %}
    {%  case block.type  %}  
    {%  when 'image' %}
      <div class="tw-relative">
        <picture class="tw-aspect-w-1">
          {% if block.settings.image_desktop != blank %}
              {{ block.settings.image_desktop | image_url: width: 2048 | image_tag: class: image_class, widths: widths, fetchpriority: fetch_priority }}
            {% else %}
              {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
          {% endif %}
        </picture>
        <div class="tw-absolute tw-bottom-0 tw-left-0 tw-w-full tw-p-[5rem]">
          {% if block.settings.heading != blank %}
            {%  style %}
             .h2-{{ block.id }} {
                font-size: {{ block.settings.heading_size }}px;
                line-height: {{ block.settings.heading_size }}px;
             }
             .h3-{{ block.id }} {
                font-size: {{ block.settings.subheading_size }}px;
                line-height: {{ block.settings.subheading_size }}px;
             }
            {% endstyle %}
            <h2 class="h2-{{ block.id }}">{{ block.settings.heading }}</h2>
            <h3 class="h3-{{ block.id }}">{{ block.settings.subheading }}</h3>
          {% endif %}
        </div>
      </div>
    {%  when 'video' %}
      <div></div>
    {% endcase %}
  {% endfor %}

</section>

{% schema %}
{
    "name": "TW - Full image with text",
    "settings": [
        {
          "type": "color_scheme",
          "id": "section_color_scheme",
          "label": "Color scheme",
          "default": "scheme-1"
        },
        {
          "type": "range",
          "id": "padding_top",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "Padding top",
          "default": 12
        },
        {
          "type": "range",
          "id": "padding_bottom",
          "min": 0,
          "max": 100,
          "step": 4,
          "unit": "px",
          "label": "Padding bottom",
          "default": 12
        }
    ],
    "blocks": [
      {
        "type": "image",
        "name": "Image",
        "settings": [
          {
            "type": "paragraph",
            "content": "Use portrait image and high resolution (2048 Ã— 2560) for better layout"
          },
          {
            "type": "image_picker",
            "id": "image_desktop",
            "label": "Image desktop"
          },
          {
            "type": "image_picker",
            "id": "image_mobile",
            "label": "Image moible"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Heading"
          },
          {
            "type":"range",
            "id":"heading_size",
            "min":10,
            "max":1000,
            "step":10,
            "unit":"px",
            "label":"Heading size",
            "default":30
          },
          {
            "type": "text",
            "id": "subheading",
            "label": "Subheading",
            "default": "Subheading"
          },
          {
            "type": "range",
            "id": "subheading_size",
            "min":10,
            "max":1000,
            "step":10,
            "unit": "px",
            "label": "Subheading size",
            "default": 20
          },
          {
            "type": "url",
            "id": "link",
            "label": "Section link"
          },
          {
            "type": "color_scheme",
            "id": "content_color_scheme",
            "label": "Color scheme",
            "default": "scheme-1"
          }
        ]
      },
      {
        "type": "video",
        "name": "Video",
        "settings": [
          {
            "type": "paragraph",
            "content": "Use portrait video for better layout"
          },
          {
            "type": "video",
            "id": "video",
            "label": "Video"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Heading"
          },
          {
            "type":"range",
            "id":"heading_size",
            "min":10,
            "max":1000,
            "step":10,
            "unit":"px",
            "label":"Heading size",
            "default":30
          },
          {
            "type": "text",
            "id": "subheading",
            "label": "Subheading",
            "default": "Subheading"
          },
          {
            "type": "range",
            "id": "subheading_size",
            "min":10,
            "max":1000,
            "step":10,
            "unit": "px",
            "label": "Subheading size",
            "default": 20
          },
          {
            "type": "url",
            "id": "link",
            "label": "Section link"
          },
          {
            "type": "color_scheme",
            "id": "content_color_scheme",
            "label": "Color scheme",
            "default": "scheme-1"
          }
        ]
      }
    ],
    "presets": [
        {
          "name": "TW - Full image with text",
          "blocks": [
            {
              "type": "image"
            },
            {
              "type": "video"
            }
          ]
        }
    ]
}
{% endschema %}